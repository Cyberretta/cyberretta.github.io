/*!
 * Copyright Jean-Loup Laverny (Cyberretta)
 * All rights reserved.
 */
function e(){return`rgb(${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())}, ${Math.floor(255*Math.random())})`}function t(){let e=document.createElement("div");e.className="imageOverlay",e.tabIndex=-1,document.getElementById("main").appendChild(e),e.focus(),e.onkeydown=function(e){!function(e){"Escape"===e.key&&document.getElementsByClassName("imageOverlay")[0].remove()}(e)};const t=this.src;let n=document.createElement("div");n.className="imageContainer",n.style.backgroundImage=`url(${t})`;let a=document.createElement("p");a.innerText="Image viewer",a.className="imageViewerHeader";let l=document.createElement("p");l.innerText="Vous êtes actuellement dans le visualiseur d'image. Pour le quitter et revenir au compte-rendu, appuyez sur la touche Échap",l.className="imageViewerHeader2",e.appendChild(a),e.appendChild(l),e.appendChild(n)}function n(){var n=new URL(window.location.href);let l=n.searchParams.get("platform"),r=n.searchParams.get("difficulty"),i=n.searchParams.get("name");fetch(`/write-ups/${l}/${r}/${i}/${i}.html`,{}).then((e=>e.text())).then((n=>{document.getElementById("main").innerHTML=n,function(){let e="",t="",n=document.getElementById("tableOfContents"),a=document.getElementById("uiTableOfContents");if(n){let l=document.querySelectorAll("h1, h2, h3");for(let n=0;n<l.length;n++)if("Table of contents"!==l[n].innerHTML){let a="t"+l[n].tagName.slice(-1);e+="<a href=#"+l[n].id+" class="+a+"><p>"+l[n].innerText+"</p></a>",t+="<a href=#"+l[n].id+" class="+a+"><p>"+l[n].innerText+"</p></a>"}n.innerHTML=e,a.innerHTML+=t}}(),document.getElementById("downloadPDF").addEventListener("click",a),document.getElementsByTagName("header")[0].style.background=`linear-gradient(45deg, ${e()}, ${e()})`,function(){const e=document.getElementsByClassName("writeUp")[0].getElementsByTagName("img");for(let n of e)n.addEventListener("click",t)}()}))}function a(){window.print()}window.addEventListener("DOMContentLoaded",(()=>{n()}));